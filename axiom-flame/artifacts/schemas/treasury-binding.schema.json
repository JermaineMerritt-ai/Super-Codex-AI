{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://codex-dominion.ai/schemas/treasury-binding.v1.json",
  "title": "Treasury Binding Schema",
  "description": "Schema for Treasury Binding where recognition flows into abundance",
  "type": "object",
  "required": [
    "binding_id",
    "timestamp",
    "custodian_crown",
    "recognition_source",
    "abundance_flow",
    "prosperity_level",
    "flame_keeper",
    "deed_inscription",
    "abundance_amount",
    "currency_type",
    "treasury_seal",
    "eternal_status",
    "schema_version"
  ],
  "properties": {
    "binding_id": {
      "type": "string",
      "pattern": "^TB-[0-9]{4}-[0-9]{2}-[0-9]{2}-[A-F0-9]{8}$",
      "description": "Unique Treasury Binding identifier with format TB-YYYY-MM-DD-XXXXXXXX"
    },
    "timestamp": {
      "type": "string",
      "format": "date-time",
      "description": "ISO 8601 timestamp of when the treasury binding was created"
    },
    "custodian_crown": {
      "type": "string",
      "description": "The sacred crown under which the binding is made"
    },
    "recognition_source": {
      "type": "string",
      "description": "Source of the recognition being bound to treasury"
    },
    "abundance_flow": {
      "type": "string",
      "enum": ["RECOGNITION TO TREASURY", "TREASURY TO RECOGNITION", "BIDIRECTIONAL FLOW"],
      "description": "Direction of abundance flow"
    },
    "prosperity_level": {
      "type": "string",
      "enum": [
        "Eternal Crown",
        "Ruby Cosmic", 
        "Diamond Solar",
        "Golden Blaze",
        "Silver Flame",
        "Bronze Ember",
        "Crystal Spark"
      ],
      "description": "Level of recognition determining abundance multiplier"
    },
    "flame_keeper": {
      "type": "string",
      "description": "Name of the flame keeper receiving abundance"
    },
    "deed_inscription": {
      "type": "string",
      "description": "Description of deeds that earned the recognition"
    },
    "abundance_amount": {
      "type": "string",
      "pattern": "^[0-9]+\\.[0-9]{2}$",
      "description": "Amount of abundance as decimal string"
    },
    "currency_type": {
      "type": "string",
      "enum": [
        "Sovereign Tokens",
        "Cosmic Tokens",
        "Solar Tokens", 
        "Blaze Tokens",
        "Flame Tokens",
        "Ember Tokens",
        "Spark Tokens"
      ],
      "description": "Type of currency granted"
    },
    "treasury_seal": {
      "type": "string",
      "description": "The sacred seal validating the treasury binding"
    },
    "eternal_status": {
      "type": "string",
      "description": "Eternal status of prosperity binding"
    },
    "schema_version": {
      "type": "string",
      "const": "treasury-binding.v1",
      "description": "Schema version identifier"
    }
  },
  "additionalProperties": false
}
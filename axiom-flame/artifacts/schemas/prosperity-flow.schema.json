{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://codex-dominion.ai/schemas/prosperity-flow.v1.json",
  "title": "Prosperity Flow Schema", 
  "description": "Schema for Prosperity Flow tracking abundance movement",
  "type": "object",
  "required": [
    "flow_id",
    "source_recognition",
    "target_keeper",
    "abundance_type",
    "flow_amount",
    "flow_reason",
    "flow_timestamp",
    "schema_version"
  ],
  "properties": {
    "flow_id": {
      "type": "string",
      "pattern": "^PF-[0-9]{4}-[0-9]{2}-[0-9]{2}-[A-F0-9]{8}$",
      "description": "Unique Prosperity Flow identifier with format PF-YYYY-MM-DD-XXXXXXXX"
    },
    "source_recognition": {
      "type": "string",
      "description": "Source recognition or scroll ID that triggered the flow"
    },
    "target_keeper": {
      "type": "string",
      "description": "Flame keeper receiving the prosperity flow"
    },
    "abundance_type": {
      "type": "string",
      "enum": [
        "Sovereign Tokens",
        "Cosmic Tokens", 
        "Solar Tokens",
        "Blaze Tokens",
        "Flame Tokens",
        "Ember Tokens",
        "Spark Tokens"
      ],
      "description": "Type of abundance flowing"
    },
    "flow_amount": {
      "type": "string",
      "pattern": "^[0-9]+\\.[0-9]{2}$",
      "description": "Amount of abundance flowing as decimal string"
    },
    "flow_reason": {
      "type": "string",
      "description": "Reason for the prosperity flow"
    },
    "flow_timestamp": {
      "type": "string",
      "format": "date-time",
      "description": "ISO 8601 timestamp of when the flow occurred"
    },
    "schema_version": {
      "type": "string",
      "const": "prosperity-flow.v1",
      "description": "Schema version identifier"
    }
  },
  "additionalProperties": false
}
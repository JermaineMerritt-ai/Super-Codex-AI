{% extends "base.html" %}
{% block content %}
<h2 class="text-2xl font-semibold mb-4">Capsule Metrics</h2>
<div class="grid grid-cols-3 gap-4 mb-6">
  <div class="bg-gray-800 p-4 rounded">ROI: {{ metrics.roi }}</div>
  <div class="bg-gray-800 p-4 rounded">Drawdown: {{ metrics.drawdown }}</div>
  <div class="bg-gray-800 p-4 rounded">Sharpe-like: {{ metrics.sharpe_like }}</div>
</div>

<canvas id="exposureChart" class="bg-gray-800 p-4 rounded"></canvas>

<script>
const exposureData = {{ metrics.exposure|tojson | safe }};
const ctx = document.getElementById('exposureChart');
new Chart(ctx, {
  type: 'pie',
  data: {
    labels: Object.keys(exposureData),
    datasets: [{
      data: Object.values(exposureData),
      backgroundColor: ['#6366f1','#10b981','#f59e0b','#ef4444']
    }]
  }
});
</script>
{% endblock %}
